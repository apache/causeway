= `ClockService`

:Notice: Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to you under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at. http://www.apache.org/licenses/LICENSE-2.0 . Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR  CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
:page-partial:




Most applications deal with dates and times in one way or another.
For example, if an `Order` is placed, then the `Customer` may have 30 days to pay the `Invoice`, otherwise a penalty may be levied.

However, such date/time related functionality can quickly complicate automated testing: "today+30" will be a different value every time the test is run.

Even disregarding testing, there may be a requirement to ensure that date/times are obtained from an NNTP server (rather than the system PC).
While instantiating a `java.util.Date` to current the current time is painless enough, we would not want complex technical logic for querying an NNTP server spread around domain logic code.

Therefore it's common to provide a domain service whose responsibility is to provide the current time.
This service can be injected into any domain object (and can be mocked out for unit testing).
Apache Isis provides such a facade through the `ClockService`.


== API

include::system:generated:page$index/ClockService.adoc[leveloffset=+2]

TODO example migration

.Deprecated Docs
[WARNING]
================================

== API

The API defined by `ClockService` is:

[source,java]
----
include::refguide:applib-svc:example$services/clock/ClockService.java[tags="refguide"]
----

Note that this domain service is also used by the framework itself to obtain the time, so it acts as an SPI as well.


================================

== Implementation

This class (`o.a.i.applib.services.clock.ClockService`) is also the default implementation.
The time provided by this default implementation is based on the system clock.

