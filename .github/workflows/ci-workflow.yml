name: Build Package Push All

on: [push]

jobs:
  build:
    name: build
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v1
    - name: Set up JDK 11
      uses: actions/setup-java@v1
      with:
        java-version: 11
    - name: Print Maven Version
      run: mvn --version
    - name: Setup Script Environment
      run: |
         echo BASELINE\: $BASELINE
         echo REVISION\: $REVISION
         echo PROJECT_ROOT_PATH\: $PROJECT_ROOT_PATH
         echo CI_SCRIPTS_DIR\: $CI_SCRIPTS_DIR
         echo MVN_STAGES\: $MVN_STAGES
      env:
           BASELINE: 2.0.0-M2
           REVISION: $BASELINE.$(date +%Y%m%d)
           PROJECT_ROOT_PATH: $GITHUB_WORKSPACE
           CI_SCRIPTS_DIR: $PROJECT_ROOT_PATH/scripts/ci
           MVN_STAGES: deploy 